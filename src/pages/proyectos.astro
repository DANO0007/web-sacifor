---
// Importaciones organizadas siguiendo mejores prácticas de Astro
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Icon from "../components/Icon.astro";
import "../styles/pages.css";
import { Image } from "astro:assets";
import image4 from "../assets/image4.jpg";
import nanocuencas from "../assets/nanocuencas.png";
import sequia from "../assets/sequia.png";
import proyectosambientales from "../assets/proyectosambientales.jpg";
import obrashidraulicas from "../assets/obrashidraulicas.png";
import cuenca from "../assets/cuenca.png";
import asesoria from "../assets/asesoria.jpg";
import otrosestudios from "../assets/otrosestudios.jpg";

// Configuración de servicios organizados por categorías
const serviceCategories = [
  {
    title: "Consultoría Ambiental",
    icon: "lupa" as const,
    image: nanocuencas,
    services: [
      "Manifestaciones de Impacto Ambiental (Regional, Particular y Estatal)",
      "Dictámenes municipales en materia ambiental",
      "Estudios Técnicos Justificativos para Cambio de Uso de Suelo en terrenos forestales",
      "Cumplimiento de condicionantes ambientales ante la autoridad",
    ],
  },
  {
    title: "Estudios Especializados",
    icon: "investigacion" as const,
    image: sequia,
    services: [
      "Atlas de riesgo municipal",
      "Ordenamiento territorial",
      "Estudios hidrológicos e hidráulicos",
      "Balances hidrológicos",
    ],
  },
  {
    title: "Estudios y Proyectos Ambientales",
    icon: "planta" as const,
    image: proyectosambientales,
    services: [
      "Saneamiento mediante ecotecnias",
      "Conservación y uso sustentable de suelo y agua",
      "Tecnificación de sistemas de riego",
      "Restauración de cuerpos de agua",
    ],
  },
  {
    title: "Proyectos de Obras Hidráulicas",
    icon: "llaveagua" as const,
    image: obrashidraulicas,
    services: [
      "Sistemas de agua potable y protección de fuentes",
      "Bordos de tierra compactada y ollas de captación de agua pluvial",
      "Presas de mampostería, muros de gaviones y tanques elevados",
      "Pozos para agua potable y riego",
      "Sistemas de conducción y riego",
      "Ecotecnias para cosecha de lluvia",
      "Aplicación de sistemas de energía solar para el abastecimiento de agua",
    ],
  },
  {
    title: "Manejo Integrado de Cuencas",
    icon: "montana" as const,
    image: cuenca,
    services: [
      "Diagnósticos participativos de cuencas",
      "Diseño e implementación de planes de manejo",
      "Obras y prácticas de conservación de suelo y restauración ambiental",
      "Ordenamiento comunitario",
    ],
  },
  {
    title: "Asesoría a Municipios",
    icon: "asesoria" as const,
    image: asesoria,
    services: [
      "Sistema de Gestión Ambiental Municipal",
      "Plan de Ordenamiento Territorial Municipal",
      "Plan Municipal de Desarrollo",
      "Manejo integral de residuos sólidos urbanos",
      "Asesoría en impacto ambiental",
    ],
  },
  {
    title: "Otros Estudios y Proyectos",
    icon: "engrane" as const,
    image: otrosestudios,
    services: [
      "Levantamientos topográficos",
      "Mecánica de suelos",
      "Infraestructura de agua potable y alcantarillado",
      "Plantas de tratamiento de aguas residuales",
    ],
  },
];

const title = "Proyectos Realizados - SACIFOR";
const description =
  "Conoce nuestros servicios y proyectos en consultoría ambiental, estudios especializados, obras hidráulicas y manejo de cuencas.";
---

<Layout title={title} description={description} currentPath="/proyectos">
  <Header currentPath="/proyectos" />
  <main id="main-content" role="main">
    <!-- Hero Section -->
    <section class="content-section" aria-labelledby="projects-title">
      <div class="content-container">
        <h1 id="projects-title" class="section-title">Proyectos Realizados</h1>
        <p class="hero-description">
          Con más de una década de experiencia, hemos desarrollado estudios y
          proyectos en temas clave para la conservación y restauración
          ambiental.
        </p>
      </div>
    </section>

    <Image
      src={image4}
      alt="Vista aérea de paisaje natural capturada con drone - SACIFOR consultoría ambiental"
      class="images image4"
      width={1200}
      quality={85}
      loading="lazy"
    />

    <!-- Servicios por Categorías -->
    <section class="services-categories" aria-labelledby="categories-title">
      <div class="content-container">
        <h2 id="categories-title" class="sr-only">Categorías de Servicios</h2>
        <div class="content-grid">
          {
            serviceCategories.map((category, index) => (
              <article class="content-card">
                {category.image && (
                  <div class="card-image-container">
                    <Image
                      src={category.image}
                      alt={`Imagen representativa de ${category.title} - SACIFOR`}
                      class={`card-image card-image-${index + 1}`}
                      width={800}
                      height={500}
                      quality="max"
                      format="webp"
                      loading="lazy"
                    />
                  </div>
                )}

                <div class="card-content">
                  <div class="card-icon">
                    <Icon
                      name={category.icon}
                      size={category.image ? 48 : 88}
                      aria-label={`Icono de ${category.title}`}
                    />
                  </div>
                  <h3>{category.title}</h3>
                  <ul class="services-list">
                    {category.services.map((service) => (
                      <li>{service}</li>
                    ))}
                  </ul>
                </div>
              </article>
            ))
          }
        </div>
      </div>
    </section>

    <!-- Call to Action -->
    <section class="cta-section" aria-labelledby="cta-title">
      <div class="content-container">
        <h2 id="cta-title">¿Necesitas alguno de estos servicios?</h2>
        <p class="cta-description">
          Contáctanos para recibir asesoría especializada y desarrollar
          soluciones técnicas adaptadas a tus necesidades.
        </p>
        <div class="cta-buttons">
          <a
            href="/contacto"
            class="cta-button primary"
            aria-label="Contactar con SACIFOR para servicios especializados"
          >
            Solicitar Información
          </a>
          <a
            href="/informacion"
            class="cta-button secondary"
            aria-label="Ver más información sobre SACIFOR"
          >
            Conocer Más
          </a>
        </div>
      </div>
    </section>
  </main>
</Layout>
